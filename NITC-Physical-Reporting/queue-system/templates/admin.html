<!DOCTYPE html>
<html class="light" lang="en"><head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>NITC Admin: Batch &amp; Schedule Control</title>
<script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
<link href="https://fonts.googleapis.com/css2?family=Lexend:wght@300;400;500;600;700;800;900&amp;display=swap" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&amp;display=swap" rel="stylesheet"/>
<link href="styles/admin.css" rel="stylesheet"/>
<script id="tailwind-config">
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        "primary": "#137fec",
                        "background-light": "#f6f7f8",
                        "background-dark": "#101922",
                    },
                    fontFamily: {
                        "display": ["Lexend", "sans-serif"]
                    },
                    borderRadius: { "DEFAULT": "0.25rem", "lg": "0.5rem", "xl": "0.75rem", "full": "9999px" },
                },
            },
        }
    </script>
  <script>
    (function () {
      const savedTheme = localStorage.getItem("nitc-theme");
      // const prefersDark = window.matchMedia("(prefers-color-scheme: dark)").matches;
      // const isDark = savedTheme ? savedTheme === "dark" : prefersDark;
      // document.documentElement.classList.toggle("dark", isDark);
      // document.documentElement.classList.toggle("light", !isDark);
    })();
  </script>
</head>
<body class="bg-background-light dark:bg-background-dark text-slate-900 dark:text-slate-100 min-h-screen" data-student-name="Arun Krishna" data-student-roll-no="B22CS001">
<header class="border-b border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900 sticky top-0 z-50">
<div class="max-w-[1440px] mx-auto px-4 sm:px-6 min-h-16 py-3 flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between">
<div class="flex items-center gap-3 sm:gap-8 min-w-0">
<div class="flex items-center gap-3">
<div class="bg-primary text-white p-1.5 rounded-lg">
<span class="material-symbols-outlined text-2xl font-bold">account_balance</span>
</div>
<div class="flex flex-col">
<h1 class="text-lg font-bold leading-none">NITC Admin</h1>
<span class="text-[10px] text-slate-500 font-bold tracking-widest uppercase">Batch Control</span>
</div>
</div>
<nav class="hidden md:flex items-center gap-6">
<a class="text-primary font-bold text-sm" href="#">Dashboard</a>
<a class="text-slate-600 dark:text-slate-400 font-medium text-sm hover:text-primary transition-colors" href="#">Branch Schedules</a>
<a class="text-slate-600 dark:text-slate-400 font-medium text-sm hover:text-primary transition-colors" href="#">Batch Optimizer</a>
<a class="text-slate-600 dark:text-slate-400 font-medium text-sm hover:text-primary transition-colors" href="lateadmin.html">Late Reporting Pool</a>
</nav>
</div>
<div class="flex items-center gap-3 sm:gap-4 self-end sm:self-auto">
<div class="relative hidden sm:block">
<span class="material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 text-lg">search</span>
<input class="pl-10 pr-4 py-1.5 bg-slate-100 dark:bg-slate-800 border-none rounded-lg text-sm focus:ring-2 focus:ring-primary w-64" placeholder="Search ID or Batch..." type="text"/>
</div>
<div class="h-8 w-[1px] bg-slate-200 dark:bg-slate-800 mx-1"></div>
<div class="flex items-center gap-3">
<div class="text-right hidden lg:block">
<p class="text-sm font-bold leading-none">Admin Terminal 01</p>
<p class="text-[11px] text-green-600 font-bold uppercase">Online</p>
</div>
<div data-settings-mount></div>
<div class="w-10 h-10 rounded-full bg-primary text-white flex items-center justify-center font-bold">AD</div>
</div>
</div>
</div>
</header>
<main class="max-w-[1440px] mx-auto px-4 sm:px-6 py-6 sm:py-8">
<div class="flex flex-col lg:flex-row gap-6 sm:gap-8">
<aside class="w-full lg:w-72 shrink-0 space-y-6">
<div class="bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl overflow-hidden shadow-sm">
<div class="p-4 border-b border-slate-100 dark:border-slate-800 bg-slate-50 dark:bg-slate-800/50">
<h3 class="font-black text-sm uppercase tracking-wider text-slate-700 dark:text-slate-300">Branch Schedule</h3>
<p class="text-xs text-slate-500">Reporting: Aug 20 - Aug 24</p>
</div>
<div class="p-2 space-y-1">
<div class="p-3 bg-primary/5 border border-primary/20 rounded-xl">
<p class="text-[10px] font-black text-primary uppercase">Current: 20-08-2024</p>
<p class="text-sm font-bold mt-0.5">CSE &amp; ECE Depts</p>
<div class="flex items-center justify-between mt-2">
<span class="text-[10px] text-slate-500">Slots: 09:00 - 17:00</span>
<span class="w-2 h-2 bg-green-500 rounded-full animate-pulse"></span>
</div>
</div>
<div class="p-3 hover:bg-slate-50 dark:hover:bg-slate-800 rounded-xl transition-colors cursor-pointer">
<p class="text-[10px] font-black text-slate-400 uppercase">21-08-2024</p>
<p class="text-sm font-bold text-slate-600 dark:text-slate-300">ME &amp; Civil Depts</p>
</div>
<div class="p-3 hover:bg-slate-50 dark:hover:bg-slate-800 rounded-xl transition-colors cursor-pointer">
<p class="text-[10px] font-black text-slate-400 uppercase">22-08-2024</p>
<p class="text-sm font-bold text-slate-600 dark:text-slate-300">EEE &amp; Chemical</p>
</div>
<div class="p-3 hover:bg-slate-50 dark:hover:bg-slate-800 rounded-xl transition-colors cursor-pointer">
<p class="text-[10px] font-black text-slate-400 uppercase">23-08-2024</p>
<p class="text-sm font-bold text-slate-600 dark:text-slate-300">Arch &amp; Bio-Tech</p>
</div>
<div class="p-3 hover:bg-slate-50 dark:hover:bg-slate-800 rounded-xl transition-colors cursor-pointer">
<p class="text-[10px] font-black text-slate-400 uppercase">24-08-2024</p>
<p class="text-sm font-bold text-slate-600 dark:text-slate-300">Late Registrations</p>
</div>
</div>
</div>
<div class="bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl p-5 shadow-sm">
<div class="flex items-center gap-2 mb-4">
<span class="material-symbols-outlined text-amber-500 text-xl">speed</span>
<h3 class="font-bold text-sm">Slot Controller</h3>
</div>
<div class="space-y-4">
<div class="bg-slate-50 dark:bg-slate-800 p-3 rounded-lg border border-slate-100 dark:border-slate-700">
<p class="text-[10px] font-bold text-slate-500 uppercase">Current Batch Progress</p>
<div class="flex items-center justify-between mt-1">
<span class="text-lg font-black tracking-tight">85% Complete</span>
<span class="text-xs font-bold text-amber-600">Ahead</span>
</div>
</div>
<div class="mt-6">
<button class="w-full flex items-center justify-center gap-2 rounded-lg py-2.5 border-2 border-primary/20 text-primary text-sm font-bold hover:bg-primary/5 transition-colors">
<a href="admin2.html">
    <span class="material-symbols-outlined text-[18px]">swap_horiz</span>
                        Switch Station
                    </button></a>
</div>
<button class="w-full bg-amber-500 hover:bg-amber-600 text-white font-bold py-3 rounded-xl text-sm transition-transform active:scale-95 flex items-center justify-center gap-2 shadow-lg shadow-amber-500/20">
<span class="material-symbols-outlined text-lg">fast_forward</span>
                        Call Next Batch Early
                    </button>
<p class="text-[10px] text-center text-slate-400 font-medium">Use if current capacity is idle</p>
</div>
</div>
</aside>
<div class="flex-1 min-w-0 space-y-8">
<div class="flex flex-col xl:flex-row xl:items-end justify-between gap-6">
<div class="space-y-1">
<h2 class="text-3xl font-black tracking-tight">NITC Queue Optimizer</h2>
<p class="text-slate-500 dark:text-slate-400 flex items-center gap-2">
<span class="material-symbols-outlined text-sm">precision_manufacturing</span>
                        Active Slot Logic: Automated Optimization
                    </p>
</div>
<div class="grid grid-cols-2 sm:grid-cols-4 gap-3 sm:gap-4 flex-1 xl:max-w-3xl">
<div class="bg-white dark:bg-slate-900 p-4 rounded-xl border border-slate-200 dark:border-slate-800">
<p class="text-[10px] font-black text-slate-500 uppercase mb-1">Total Served</p>
<p class="text-2xl font-black">218</p>
</div>
<div class="bg-white dark:bg-slate-900 p-4 rounded-xl border border-slate-200 dark:border-slate-800">
<p class="text-[10px] font-black text-slate-500 uppercase mb-1">In Batch</p>
<p class="text-2xl font-black">12</p>
</div>
<div class="bg-white dark:bg-slate-900 p-4 rounded-xl border border-slate-200 dark:border-slate-800">
<p class="text-[10px] font-black text-slate-500 uppercase mb-1">Wait Time</p>
<p class="text-2xl font-black">08<span class="text-xs ml-1">m</span></p>
</div>
<div class="bg-white dark:bg-slate-900 p-4 rounded-xl border border-slate-200 dark:border-slate-800">
<p class="text-[10px] font-black text-slate-500 uppercase mb-1">Rejected</p>
<p class="text-2xl font-black text-red-500">03</p>
</div>
</div>
</div>
<div class="bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl overflow-hidden shadow-xl">
<div class="optimizer-gradient p-6 text-white flex flex-col md:flex-row items-center justify-between gap-6">
<div class="flex items-center gap-4">
<div class="w-12 h-12 rounded-xl bg-white/10 flex items-center justify-center border border-white/20">
<span class="material-symbols-outlined text-3xl">bolt</span>
</div>
<div>
<div class="flex items-center gap-2">
<h3 class="text-xl font-bold">Slot Optimization Panel</h3>
<div class="relative tooltip-trigger">
<span class="material-symbols-outlined text-white/50 text-lg cursor-help">info</span>
<div class="hidden tooltip-content absolute bottom-full left-1/2 -translate-x-1/2 mb-2 w-48 p-2 bg-slate-900 text-white text-[10px] rounded border border-slate-700 shadow-xl z-10 font-mono">
                                        Optimization Constraint:
                                        45 ≤ 5x + 15y ≤ 60
                                        <br/>(x: Quick, y: Detailed)
                                    </div>
</div>
</div>
<p class="text-white/70 text-sm">Automated student dispatch system active</p>
</div>
</div>
<div class="flex flex-col sm:flex-row items-center gap-8">
<div class="flex items-center gap-3 bg-white/10 px-4 py-2 rounded-lg border border-white/10">
<span class="material-symbols-outlined text-white/60">schedule</span>
<div class="text-left">
<p class="text-[10px] font-bold uppercase text-white/70 leading-none">Est. Duration</p>
<p class="text-xl font-black">55 <span class="text-xs font-normal opacity-70">min</span></p>
</div>
</div>
<button id="dispatch-next-batch-btn" class="bg-white text-primary hover:bg-slate-50 px-5 sm:px-8 py-3 rounded-lg font-black text-sm uppercase tracking-tighter transition-all shadow-lg active:scale-95 flex items-center gap-2">
<span class="material-symbols-outlined text-lg">rocket_launch</span>
                            Dispatch Next Batch
                        </button>
</div>
</div>
</div>
<section id="student-detail-panel" class="bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl shadow-xl overflow-hidden">
<div class="px-6 py-4 border-b border-slate-100 dark:border-slate-800 bg-slate-50 dark:bg-slate-800/40 flex items-center justify-between">
<div>
<p class="text-xs font-black uppercase tracking-wider text-slate-500">Reporting Profile</p>
<h3 id="detailName" class="text-2xl font-black">Select a student from queue</h3>
<p id="detailId" class="text-sm text-slate-500">Application ID: --</p>
</div>
<span class="text-xs font-bold px-3 py-1 rounded-full bg-blue-100 text-blue-700">Chanakya Hall Desk</span>
</div>
<div class="grid grid-cols-1 lg:grid-cols-2 gap-0">
<div class="p-6 border-b lg:border-b-0 lg:border-r border-slate-100 dark:border-slate-800">
<h4 class="font-black uppercase tracking-wider mb-4 text-slate-700 dark:text-slate-300">Verification History</h4>
<div class="space-y-4 text-sm">
<div>
<p class="font-bold">Physical Document Verification</p>
<p class="text-slate-500">Admin 1: Rajesh Khanna • 10:24 AM</p>
</div>
<div>
<p class="font-bold">Fee Reconciliation</p>
<p class="text-slate-500">Accounts Desk: Automated • 10:30 AM</p>
</div>
<div>
<p class="font-bold text-primary">Final Approval Required</p>
<p class="text-slate-500">Current Stage: Chanakya Hall Admin 2</p>
</div>
</div>
</div>
<div class="p-6">
<h4 class="font-black uppercase tracking-wider mb-4 text-slate-700 dark:text-slate-300">Student Snapshot</h4>
<div class="space-y-3 text-sm">
<p><span class="font-bold">Token Type:</span> <span id="detailProgram">--</span></p>
<p><span class="font-bold">Slot:</span> <span id="detailRank">--</span></p>
<p><span class="font-bold">Payment Mode:</span> <span id="detailQuota">--</span></p>
</div>
<div class="mt-5">
<label class="text-xs font-black uppercase tracking-wider text-slate-500">Admin 2 Notes</label>
<textarea id="admin1Notes" class="mt-2 w-full min-h-[90px] rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 px-3 py-2 text-sm" placeholder="Add optional verification notes..."></textarea>
</div>
</div>
</div>

<div class="px-6 py-5 border-t border-slate-100 dark:border-slate-800 bg-white dark:bg-slate-900 grid grid-cols-1 md:grid-cols-3 gap-3">
<button id="reject-profile-btn" class="bg-red-500 hover:bg-red-600 text-white font-black py-3 rounded-xl transition-colors">Reject Profile</button>
<button class="bg-amber-500 hover:bg-amber-600 text-white font-black py-3 rounded-xl transition-colors">Send to Late Reporting</button>
<button id="proceed-chanakya-btn" class="bg-emerald-600 hover:bg-emerald-700 text-white font-black py-3 rounded-xl transition-colors">Proceed to Chanakya</button>
</div>
</section>
<div class="grid grid-cols-1 xl:grid-cols-2 gap-8">
<div class="space-y-4">
<div class="flex items-center justify-between px-2">
<div class="flex items-center gap-2">
<div class="w-8 h-8 rounded bg-primary/10 text-primary flex items-center justify-center">
<span class="material-symbols-outlined text-xl font-bold">flash_on</span>
</div>
<h4 class="font-black">Quick Approval (X)</h4>
</div>
<span class="text-xs font-bold text-slate-400">{{ quick_bookings|length }} Waiting</span>
</div>
<div class="space-y-3">
{% if quick_bookings %}
{% for booking in quick_bookings %}
<div class="bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 p-4 rounded-xl group transition-all hover:ring-2 hover:ring-primary/20 cursor-pointer" data-student-card="true" data-booking-id="{{ booking.id }}" data-name="{{ booking.student_name }}" data-id="{{ booking.roll_no }}" data-program="{{ booking.queue_type }}" data-rank="{{ booking.slot_time }}" data-quota="{{ booking.payment_label }}">
<div class="flex items-center justify-between mb-4">
<div class="flex items-center gap-3">
<div class="w-10 h-10 rounded-full bg-primary/10 text-primary flex items-center justify-center font-black">
{{ booking.student_name[0]|upper }}
</div>
<div>
<h5 class="font-bold text-sm">{{ booking.student_name }}</h5>
<p class="text-[10px] text-slate-500 font-mono tracking-tight uppercase">Roll: {{ booking.roll_no }}</p>
</div>
</div>
<span class="bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 text-[10px] px-2 py-1 rounded font-black uppercase">Quick Review</span>
</div>
<div class="flex gap-2">
<button class="flex-1 bg-green-500 hover:bg-green-600 text-white text-[11px] font-black uppercase py-2 rounded-lg transition-colors">Complete Successfully</button>
<button data-booking-id="{{ booking.id }}" class="js-reject-booking px-4 bg-slate-100 hover:bg-red-50 dark:bg-slate-800 dark:hover:bg-red-900/20 text-slate-600 hover:text-red-600 text-[11px] font-black uppercase py-2 rounded-lg transition-colors">Reject</button>
</div>
</div>
{% endfor %}
{% else %}
<div class="bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 p-4 rounded-xl text-sm text-slate-500">
No students in quick review queue.
</div>
{% endif %}
</div>
</div>
<div class="space-y-4">
<div class="flex items-center justify-between px-2">
<div class="flex items-center gap-2">
<div class="w-8 h-8 rounded bg-amber-500/10 text-amber-600 flex items-center justify-center">
<span class="material-symbols-outlined text-xl font-bold">psychology</span>
</div>
<h4 class="font-black">Detailed Consultation (Y)</h4>
</div>
<span class="text-xs font-bold text-slate-400">{{ detailed_bookings|length }} Waiting</span>
</div>
<div class="space-y-3">
{% if detailed_bookings %}
{% for booking in detailed_bookings %}
<div class="bg-red-50/50 dark:bg-red-900/5 border-2 border-red-200 dark:border-red-900/30 p-4 rounded-xl relative overflow-hidden cursor-pointer" data-student-card="true" data-booking-id="{{ booking.id }}" data-name="{{ booking.student_name }}" data-id="{{ booking.roll_no }}" data-program="{{ booking.queue_type }}" data-rank="{{ booking.slot_time }}" data-quota="{{ booking.payment_label }}">
<div class="absolute -right-4 -top-4 opacity-10">
<span class="material-symbols-outlined text-6xl">error</span>
</div>
<div class="flex items-center justify-between mb-4">
<div class="flex items-center gap-3">
<div class="w-10 h-10 rounded-full bg-red-100 text-red-700 flex items-center justify-center font-black">
{{ booking.student_name[0]|upper }}
</div>
<div>
<h5 class="font-bold text-sm">{{ booking.student_name }}</h5>
<p class="text-[10px] text-slate-500 font-mono tracking-tight uppercase">Roll: {{ booking.roll_no }}</p>
</div>
</div>
<div class="bg-red-600 text-white text-[10px] px-2 py-1 rounded font-black uppercase tracking-wider">
Detailed Consultation
</div>
</div>
<div class="flex gap-2">
<button class="flex-1 bg-green-500 hover:bg-green-600 text-white text-[11px] font-black uppercase py-2 rounded-lg transition-colors">Complete Successfully</button>
<button data-booking-id="{{ booking.id }}" class="js-reject-booking px-4 bg-slate-100 hover:bg-red-50 dark:bg-slate-800 dark:hover:bg-red-900/20 text-slate-600 hover:text-red-600 text-[11px] font-black uppercase py-2 rounded-lg transition-colors">Reject</button>
</div>
</div>
{% endfor %}
{% else %}
<div class="bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 p-4 rounded-xl text-sm text-slate-500">
No students in detailed consultation queue.
</div>
{% endif %}
</div>
</div>
</div>
</div>
</div>
<footer class="mt-12 pt-8 border-t border-slate-200 dark:border-slate-800 flex flex-col md:flex-row items-center justify-between gap-6">
<div class="flex items-center gap-8">
<div class="flex items-center gap-2">
<span class="w-2.5 h-2.5 bg-green-500 rounded-full shadow-[0_0_8px_rgba(34,197,94,0.5)]"></span>
<span class="text-[10px] font-black uppercase tracking-widest text-slate-500">Optimizer Active: V2.4.0</span>
</div>
<div class="text-[10px] font-bold text-slate-400 uppercase tracking-widest">
                Last Sync: 12:45:02 PM
            </div>
</div>
<div class="flex gap-4">
<button class="bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 px-4 py-2 rounded-lg text-xs font-bold text-slate-600 dark:text-slate-400 hover:text-primary transition-colors flex items-center gap-2 shadow-sm">
<span class="material-symbols-outlined text-sm">file_download</span>
                Export Daily Batch Report
            </button>
<button class="bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 px-4 py-2 rounded-lg text-xs font-bold text-slate-600 dark:text-slate-400 hover:text-red-600 transition-colors flex items-center gap-2 shadow-sm">
<span class="material-symbols-outlined text-sm">emergency</span>
                Emergency Stop
            </button>
</div>
</footer>
</main>

  <script>
    window.APP_CONFIG = {
      enableBackend: false,
      backendBaseUrl: ""
    };
  </script>
  <script src="{{ url_for('static', filename='site.js') }}"></script>
  <script>
    (function () {
      const dispatchButton = document.getElementById("dispatch-next-batch-btn");
      if (!dispatchButton) {
        return;
      }

      dispatchButton.addEventListener("click", () => {
        const hallRole = (localStorage.getItem("nitc-admin-hall-role") || "").toLowerCase();
        if (hallRole !== "bhaskara") {
          return;
        }

        localStorage.setItem(
          "nitc-batch-dispatch-event",
          JSON.stringify({
            action: "batch-dispatched",
            hall: "bhaskara",
            ts: Date.now()
          })
        );
      });

      const detailName = document.getElementById("detailName");
      const detailId = document.getElementById("detailId");
      const detailProgram = document.getElementById("detailProgram");
      const detailRank = document.getElementById("detailRank");
      const detailQuota = document.getElementById("detailQuota");
      const proceedButton = document.getElementById("proceed-chanakya-btn");
      const rejectProfileButton = document.getElementById("reject-profile-btn");
      const cards = document.querySelectorAll("[data-student-card='true']");
      const rejectButtons = document.querySelectorAll(".js-reject-booking");
      let selectedBookingId = null;

      async function rejectBooking(bookingId) {
        const res = await fetch("/reject-booking", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ booking_id: bookingId })
        });
        const data = await res.json();
        if (!data.success) {
          alert(data.message || "Unable to reject profile.");
          return;
        }
        alert("Profile rejected and removed.");
        window.location.reload();
      }

      cards.forEach((card) => {
        card.addEventListener("click", () => {
          detailName.textContent = card.dataset.name || "Selected Student";
          detailId.textContent = `Roll No: ${card.dataset.id || "--"}`;
          detailProgram.textContent = card.dataset.program || "--";
          detailRank.textContent = card.dataset.rank || "--";
          detailQuota.textContent = card.dataset.quota || "--";
          selectedBookingId = card.dataset.bookingId || null;
          document.getElementById("student-detail-panel").scrollIntoView({ behavior: "smooth", block: "start" });
        });
      });

      if (proceedButton) {
        proceedButton.addEventListener("click", async () => {
          if (!selectedBookingId) {
            alert("Select a student first.");
            return;
          }

          const res = await fetch("/proceed-to-chanakya", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({
              booking_id: selectedBookingId,
              admin1_notes: document.getElementById("admin1Notes")?.value || ""
            })
          });
          const data = await res.json();
          if (!data.success) {
            alert(data.message || "Unable to proceed to Chanakya.");
            return;
          }
          alert("Student moved to Chanakya queue.");
          window.location.reload();
        });
      }

      rejectButtons.forEach((button) => {
        button.addEventListener("click", async (event) => {
          event.stopPropagation();
          const bookingId = button.dataset.bookingId;
          if (!bookingId) return;
          await rejectBooking(bookingId);
        });
      });

      if (rejectProfileButton) {
        rejectProfileButton.addEventListener("click", async () => {
          if (!selectedBookingId) {
            alert("Select a student first.");
            return;
          }
          await rejectBooking(selectedBookingId);
        });
      }
    })();
  </script>
</body></html>
